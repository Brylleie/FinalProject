<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<body>
	<div class="container">
		<div class="card mt-5 w-3" >
			<div class="card-header">
				<h3>Input form validation</h3>
			</div>
		  <div class="card-body">
		    <div class="mb-3">
		      <label for="FullNameInput" class="form-label">Full Name</label>
		      <input type="text" class="form-control" id="FullNameInput" placeholder="Full Name">
		    </div>
		    <div class="mb-3">
		      <label for="ageInput" class="form-label">Age</label>
		      <input type="number" class="form-control" id="ageInput" placeholder="Age">
		    </div>
		    <div class="mb-3">
		      <label for="emailInput" class="form-label">Email</label>
		      <input type="email" class="form-control" id="emailInput" placeholder="name@example.com">
		    </div>
		    <div class="mb-3">
		      <label for="dobInput" class="form-label">Date Of Birth</label>
		      <input type="date" class="form-control" id="dobInput" placeholder="mm/dd/yyyy">
		    </div>
		      
		      <label for="form-Progress" class="form-label ">Progress Bar:</label>
		    <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
		      <div id="formProgress" class="progress-bar" style="width: 0%">0 %</div>
		    </div>
		  </div>
		</div>
	</div>
</body>
<script>
	document.addEventListener('DOMContentLoaded', function() {
    const inputs = document.querySelectorAll('.form-control');
    const progressBar = document.getElementById('formProgress');
    const totalInputs = inputs.length;
  
    function updateProgressBar() {
      const validInputs = document.querySelectorAll('.is-valid').length;
      const progress = (validInputs / totalInputs) * 100;
      progressBar.style.width = progress + '%';
      progressBar.innerHTML = progress + ' %';
    }
  
    function validateInput(input) {
      const inputValue = input.value.trim();
      const inputId = input.id;
  
      if (inputId === 'FullNameInput') {
        const nameRegex = /^[A-Z][a-z]+(?: [A-Z][a-z]+)*$/;
        if (nameRegex.test(inputValue)) {
          input.classList.remove('is-invalid');
          input.classList.add('is-valid');
        } else {
          input.classList.remove('is-valid');
          input.classList.add('is-invalid');
        }
      } else if (inputId === 'ageInput') {
       
        const ageValue = parseInt(inputValue, 10);
        if (!isNaN(ageValue) && ageValue >= 0) {
          input.classList.remove('is-invalid');
          input.classList.add('is-valid');
        } else {
          input.classList.remove('is-valid');
          input.classList.add('is-invalid');
        }
      } else if (inputId === 'emailInput') {
    
        const emailRegex = /^[A-Za-z0-9!#$%&'*+\/=?^_`{|}~-]+@[A-Za-z0-9](?:[A-Za-z0-9-]{0,61}[A-Za-z0-9])?(?:\.[A-Za-z0-9](?:[A-Za-z0-9-]{0,61}[A-Za-z0-9])?)+$/;
        if (emailRegex.test(inputValue)) {
          input.classList.remove('is-invalid');
          input.classList.add('is-valid');
        } else {
          input.classList.remove('is-valid');
          input.classList.add('is-invalid');
        }
      } else {
        
        if (inputValue === '') {
          input.classList.remove('is-valid');
          input.classList.add('is-invalid');
        } else {
          input.classList.remove('is-invalid');
          input.classList.add('is-valid');
        }
      }
  
      updateProgressBar();
    }
  
    inputs.forEach(input => {
      input.addEventListener('input', function() {
        validateInput(input);
      });
    });
  });
</script>
</html>